<!doctype html>
<html>
<head>
  <title>Labirint</title>
  <style>
    body {
        margin: 0;
        padding: 0;
    }
    .row{
        display: block;
    }
    .stolb{
        float: left;
        display: block;
        border: 1px solid #000;
    }
    .wall{
        background-color: #000;
    }
    .hero{
        background-color: green;
    }
  </style>
</head>
<body onload="create()">
  <div class="table">

  </div>
</body>
<script>
    var
        width = 600,
        height = 600,
        maxX = prompt('Введите длину игрового поля'),
        maxY = prompt('Введите ширину игрового поля'),
        lineX = width/maxX-2,
        lineY = height/maxY-2,
        KOEFF = 0.30;
    
    function create(){
        for (var i = 0; i < maxX; i++)
        {
            var table = document.body.getElementsByClassName('table')[0];
            table.style.height = height+"px";
            table.style.width = width+"px";
            var row = document.createElement("div");
            row.style.height = lineX+"px";
            row.style.width = width+"px";
            row.classList.add("row");
            table.appendChild(row);
            for (var j = 0; j < maxY; j++)
            {
                row = document.body.getElementsByClassName('row')[i];
                var stolb = document.createElement("div");
                stolb.classList.add("stolb");
                stolb.style.height = lineX+"px";
                stolb.style.width = lineY+"px";
                if (Math.random()<KOEFF && (i!==0 && j!==0 && i!==maxX-1 && j!==maxY-1)){
                    stolb.classList.add("wall");
                }
                else if (i===0 && j===0)
                {
                    stolb.classList.add("hero");
                }
                row.appendChild(stolb);
            }
        }
        //hero(1, 1);
    }

    function hero(x, y){
        var last = document.body.getElementsByClassName('hero')[0];
        last.classList.remove("hero");
        var tmp = document.body.getElementsByClassName('stolb')[y+x*maxX];
        tmp.classList.add("hero");
    }
</script>
</html>